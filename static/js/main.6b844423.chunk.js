(this["webpackJsonpreal-chat"]=this["webpackJsonpreal-chat"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return B}));var c=n(1),a=n.n(c),i=n(23),r=n.n(i),s=n(19),o=n(43),j=n(53),d=n(130),u=n(133),l=n(134),b=n(139),h="/login",x="/chat",O=(n(66),n(15)),p=function(){var e=Object(c.useContext)(B).auth,t=Object(o.a)(e),n=Object(s.a)(t,1)[0];return Object(O.jsx)(d.a,{color:"secondary",position:"static",children:Object(O.jsx)(u.a,{variant:"dense",children:Object(O.jsx)(l.a,{container:!0,justify:"flex-end",children:n?Object(O.jsx)(b.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438 "}):Object(O.jsx)(j.b,{to:h,children:Object(O.jsx)(b.a,{variant:"outlined",children:"\u041b\u043e\u0433\u0438\u043d"})})})})})},f=n(26),v=n(0),m=n.n(v),g=n(2),y=n(135),C=n(140),w=n(136),I=n(72),k=n(34),A=(n(96),function(){return Object(O.jsx)(y.a,{children:Object(O.jsx)(l.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:Object(O.jsx)(l.a,{container:!0,alignItems:"center",direction:"column",children:Object(O.jsxs)("div",{class:"lds-spinner",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})})})})}),N=function(){var e=Object(c.useContext)(B),t=e.auth,n=e.firestore,a=Object(o.a)(t),i=Object(s.a)(a,1)[0],r=Object(c.useState)(""),j=Object(s.a)(r,2),d=j[0],u=j[1],h=Object(I.a)(n.collection("messages").orderBy("createAt")),x=Object(s.a)(h,2),p=x[0],f=x[1],v=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,text:d,createAt:k.a.firestore.FieldValue.serverTimestamp()}),u(" ");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?Object(O.jsx)(A,{}):Object(O.jsx)(y.a,{children:Object(O.jsxs)(l.a,{container:!0,justify:"center",style:{height:window.innerHeight-50,marginTop:20},children:[Object(O.jsx)("div",{style:{width:"80%",height:"60vh",border:"1px solid grey",overflowY:"auto"},children:p.map((function(e){return Object(O.jsxs)("div",{style:{margin:10,border:i.uid===e.uid?"2px solid green":"2px solid red",marginLeft:i.uid===e.uid?"auto":"10px",width:"fit-content",padding:5},children:[Object(O.jsxs)(l.a,{container:!0,children:[Object(O.jsx)(C.a,{src:e.photoURL}),Object(O.jsx)("div",{children:e.displayName})]}),Object(O.jsx)("div",{children:e.text})]})}))}),Object(O.jsxs)(l.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(O.jsx)(w.a,{variant:"outlined",fullWidth:!0,rowsMax:2,value:d,onChange:function(e){return u(e.target.value)}}),Object(O.jsx)(b.a,{variant:"outlined",onClick:v,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})},L=n(138),S=n(46),G=[{path:h,Component:function(){var e=Object(c.useContext)(B).auth,t=function(){var t=Object(g.a)(m.a.mark((function t(){var n,c,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new S.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,a=c.user,console.log(a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsx)(y.a,{children:Object(O.jsx)(l.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:Object(O.jsx)(l.a,{style:{width:400,background:"lightgrey"},container:!0,alignItems:"center",direction:"column",children:Object(O.jsx)(L.a,{p:5,children:Object(O.jsxs)(b.a,{onClick:t,variant:"outlined",children:[" ","\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"]})})})})})}}],H=[{path:x,Component:N}],J=function(){var e=Object(c.useContext)(B).auth,t=Object(o.a)(e);return Object(s.a)(t,1)[0]?Object(O.jsxs)(f.d,{children:[H.map((function(e){var t=e.path,n=e.Component;return Object(O.jsx)(f.b,{path:t,component:n,exact:!0},t)})),Object(O.jsx)(f.a,{to:x})]}):Object(O.jsxs)(f.d,{children:[G.map((function(e){var t=e.path,n=e.Component;return Object(O.jsx)(f.b,{path:t,component:n,exact:!0},t)})),Object(O.jsx)(f.a,{to:h})]})};var P=function(){var e=Object(c.useContext)(B).auth,t=Object(o.a)(e),n=Object(s.a)(t,3),a=(n[0],n[1]);return n[2],a?Object(O.jsx)(A,{}):Object(O.jsxs)(j.a,{children:[Object(O.jsx)(p,{}),Object(O.jsx)(J,{})]})};n(98),n(102);S.a.initializeApp({apiKey:"AIzaSyC_2H8dDf8eNJvLIOkoZtmrlxQaKrquNag",authDomain:"chat-react-cb1e0.firebaseapp.com",projectId:"chat-react-cb1e0",storageBucket:"chat-react-cb1e0.appspot.com",messagingSenderId:"938879837972",appId:"1:938879837972:web:a7162aaf6f9dfdc7bf4401",measurementId:"G-F1CPKCGNJZ"});var B=Object(c.createContext)(null),K=S.a.auth().onAuthStateChanged((function(e){})),R=S.a.firestore();r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(B.Provider,{value:{firebase:S.a,auth:K,firestore:R},children:Object(O.jsx)(P,{})})}),document.getElementById("root"))},66:function(e,t,n){},96:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.6b844423.chunk.js.map